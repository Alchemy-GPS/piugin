<!--{template common/header}--><!--生成前台支付页面--><style>.creditbox {cursor:pointer;float:left;text-align:center;width:40%;margin:2%;padding:2%;background:#FFFFFF;border:2px solid #EEEEEE;color:#AAAAAA;}.creditbox_s {cursor:pointer;background:#fafafa;float:left;text-align:center;width:40%;margin:2%;padding:2%;border:2px solid {$salepayconf[mcolor]};color:{$salepayconf[mcolor]};}.bbox {background:#FFFFFF;box-shadow:1px 1px 3px #DDDDDD;padding:10px;margin:10px;}</style><div class="userinfo">  <form id="J_sale_payform" action="home.php" method="get">  <input type="hidden" name="mod" value="spacecp" />  <input type="hidden" name="ac" value="plugin" />  <input type="hidden" name="op" value="credit" />  <input type="hidden" name="id" value="sale_pay:home" />  <input type="hidden" name="dosubmit" value="1" />  <input type="hidden" name="formhash" value="{FORMHASH}" />  {if $salepayconf[html]}  <div class="bbox" style="padding:20px;">  {$salepayconf[html]}  </div>  {/if}     <div class="bbox">  <!--{eval $salepayconf[price2] = intval(1/$salepayconf[price]);}-->  <div style="padding:10px;padding-bottom:0px;">{lang sale_pay:lang078}<b style="font-size:14px;">1</b> &#x5143;&#x4EBA;&#x6C11;&#x5E01; = <b style="font-size:14px;">{$salepayconf[price2]}</b> {$_extcredits[$salepayconf[type]][title]}</div>  <div style="padding:10px 10px 10px 10px;">{lang sale_pay:lang052}<input type="text" name="money" id="money" class="px mr5" value="0" style="width:25%;"/> {$_extcredits[$salepayconf[type]][title]}&nbsp;&nbsp;&nbsp;<strong>{lang sale_pay:lang053} <span style="color:#f00;" class="price" id="price"></span> {lang sale_pay:lang054}</strong></div>{if !empty($exbase)}   <script>  function checkchoice(k,num){    <!--{loop $exbase $k $v}-->      if(k=={$k}){	      document.getElementById('money').value=num;	      document.getElementById('creditchoice_{$k}').className="creditbox_s";          document.getElementById('price').innerHTML = (num * {$salepayconf[price]}).toFixed(2);      }else{	      document.getElementById('creditchoice_{$k}').className="creditbox";	  }	  	<!--{/loop}-->  }  </script>     <div style="padding:10px;"><span style="color:{$salepayconf[mcolor]};">{lang sale_pay:lang077}</span><br>  <ul style="width:100%;margin-left:-5px;margin-top:10px;">  <!--{loop $exbase $k $v}-->  <li class="creditbox" id="creditchoice_{$k}" onclick="checkchoice($k,$v);">  <div style="line-height:25px;">  <span style="font-size:15px;"><b>{$v} {$_extcredits[$salepayconf[type]][title]}</b></span><br>  <span style="font-size:12px;">{lang sale_pay:lang076} $exgift[$k] {$_extcredits[$salepayconf[type]][title]}</span>  </div>  </li>  <!--{/loop}-->  </ul>  <div style="clear:both;"></div>  </div>  <script>checkchoice(0,$exbase[0]);</script>  {/if}   </div>    <div style="margin:10px;padding:10px;background:{$salepayconf[mcolor]};"><button type="submit" style="color:#FFFFFF;background:transparent;border:0px;width:100%;height:100%;">{lang sale_pay:lang055}</button></div>  </form>      {if $salepayconf[shownum]>0 && !empty($frontlist)}  <div class="bbox">  <!--{eval $frontlist = sale_pay_getfrontlist($salepayconf[shownum]);}-->  {if !empty($frontlist)}  <div style="margin:0px 10px;">  <marquee direction="up" scrollamount="1" loop="-1" style="height:25px;">  <!--{loop $frontlist $front}-->  <!--{eval $front['username'] = substr_replace($front['username'], '****', 2, -2);}-->  <!--{eval $front['time'] = date("m-d H:i",$front['payline']);}-->  <font color=red>[{$front[time]}]</font> {$front[username]}{lang sale_pay:lang079}{$front[creditnum]}{$_extcredits[$salepayconf[type]][title]}{lang sale_pay:lang080}<br>  <!--{/loop}-->  </marquee>  </div>  {/if}  </div>  {/if} </div><script type="text/javascript">jQuery(function($) {	var form = $('#J_sale_payform');	var config = {title : '{$_extcredits[$salepayconf[type]][title]}', price : intval('{$salepayconf[price]}'), min : intval('{$salepayconf[min]}'), max : intval('{$salepayconf[max]}')};	if (config.title == '' || config.min < 1 || config.max < 1 || config.per < 1) {		dialog('parameter error.');		return false;	}	checkinput();	form.find('input[type="text"][name="money"]').on('blur', function() {		setTimeout(checkinput, 500);	});	function checkinput() {		var o = form.find('input[type="text"][name="money"]');		var n = intval(o.val()).toFixed(0);		if (n > 9999999999 || n < config.min) {			n = config.min		} else if (n > config.max) {			n = config.max		}		o.val(n);		form.find('span.price').html((n * config.price).toFixed(2));	}	function dialog(msg) {		if (typeof showDialog == 'function') {			showDialog(msg);		} else {			alert(msg);		}	}	function intval(s) {		s = parseFloat(s);		return isNaN(s) ? 0 : s;	}});</script><!--{template common/footer}-->